(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],[,,,,,,,function(t,e,n){var a=n(25);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("2a51fc86",a,!0,{})},function(t,e,n){var a=n(27);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("623498a6",a,!0,{})},function(t,e,n){var a=n(29);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("536b543e",a,!0,{})},function(t,e,n){var a=n(31);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("27cf3934",a,!0,{})},function(t,e,n){var a=n(51);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("35f0ce43",a,!0,{})},function(t,e,n){var a=n(55);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("de7b046c",a,!0,{})},function(t,e,n){var a=n(57);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("9cdaa832",a,!0,{})},,,,,,,,,,,function(t,e,n){"use strict";var a=n(7);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".main-header[data-v-4abb4a7e] {\n  text-align: center;\n}\n.main-header h1[data-v-4abb4a7e] {\n    font-size: 100px;\n    color: rgba(175, 47, 47, 0.4);\n    font-weight: 400;\n    margin: 20px;\n}\n",""])},function(t,e,n){"use strict";var a=n(8);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"#footer {\n  margin-top: 40px;\n  text-align: center;\n  color: #bfbfbf;\n  font-size: 10px;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n}\n",""])},function(t,e,n){"use strict";var a=n(9);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".spinner[data-v-1261eec1] {\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  text-align: center;\n  -webkit-animation: sk-rotate-data-v-1261eec1 2s infinite linear;\n          animation: sk-rotate-data-v-1261eec1 2s infinite linear;\n}\n.dot1[data-v-1261eec1],\n.dot2[data-v-1261eec1] {\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-bounce-data-v-1261eec1 2s infinite ease-in-out;\n          animation: sk-bounce-data-v-1261eec1 2s infinite ease-in-out;\n}\n.dot2[data-v-1261eec1] {\n  top: auto;\n  bottom: 0;\n  -webkit-animation-delay: -1s;\n          animation-delay: -1s;\n}\n@-webkit-keyframes sk-rotate-data-v-1261eec1 {\n100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes sk-rotate-data-v-1261eec1 {\n100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@-webkit-keyframes sk-bounce-data-v-1261eec1 {\n0%,\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n}\n@keyframes sk-bounce-data-v-1261eec1 {\n0%,\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n}\n",""])},function(t,e,n){"use strict";var a=n(10);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"#app[data-v-e5d97fec] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n}\n#app #cover[data-v-e5d97fec] {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #999;\n    opacity: 0;\n    z-index: -1;\n}\n#app #loading[data-v-e5d97fec] {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(255, 255, 255, 0.1);\n    z-index: 99;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n",""])},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var a=n(11);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".notification[data-v-81cc32d2] {\n  position: fixed;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 20px;\n  min-width: 280px;\n  background-color: #303030;\n  color: white;\n  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);\n  transition: all 0.3s;\n}\n.notification .content[data-v-81cc32d2] {\n    padding: 0;\n}\n.notification .btn[data-v-81cc32d2] {\n    color: #ff4081;\n    padding-left: 24px;\n    margin-left: auto;\n    cursor: pointer;\n}\n",""])},,,function(t,e,n){"use strict";var a=n(12);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".tabs-header[data-v-39ad90f8] {\n  display: flex;\n  margin: 0;\n  padding: 0;\n  border-bottom: 2px solid transparent;\n}\n",""])},function(t,e,n){"use strict";var a=n(13);n.n(a).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".tab[data-v-81ec430e] {\n  list-style: none;\n  line-height: 40px;\n  margin-right: 30px;\n  position: relative;\n  bottom: -2px;\n  cursor: pointer;\n}\n.tab.active[data-v-81ec430e] {\n    border-bottom: 2px solid blue;\n}\n.tab[data-v-81ec430e]:last-child {\n    margin-right: 0;\n}\n",""])},,function(t,e,n){"use strict";n.r(e);var a=n(2),o=n(14),i=n(5),s=n(23),r=n.n(s),d=(n(24),n(0)),l=Object(d.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"main-header"},[e("h1")])}],!1,null,"4abb4a7e",null).exports,c={},p=(n(26),Object(d.a)(c,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"footer"}},[e("span")])}],!1,null,null,null).exports),u=(n(28),Object(d.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"dot1"}),this._v(" "),e("div",{staticClass:"dot2"})])}],!1,null,"1261eec1",null).exports);let f=0;var m={metaInfo:{title:"Jokcy's Todo App"},computed:{...Object(i.c)(["loading"])},components:{Header:l,Footer:p,Loading:u},methods:{notify(){this.$notify({content:`test function notify. index: ${f++}`,btn:"close"})}}},h=(n(30),Object(d.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"cover"}}),this._v(" "),e("Header"),this._v(" "),e("router-view"),this._v(" "),e("Footer"),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],attrs:{id:"loading"}},[e("loading")],1)],1)},[],!1,null,"e5d97fec",null).exports);var v=[{path:"/",component:()=>n.e("todo-view").then(n.bind(null,78))},{path:"/login",component:()=>n.e("login-view").then(n.bind(null,79))}],g={todos:[],user:null,loading:!1},b={filltodos(t,e){t.todos=e},addTodo(t,e){t.todos.unshift(e)},updateTodo(t,{id:e,todo:n}){const a=t.todos.findIndex(t=>t.id===e);t.todos.splice(a,1,n)},deleteTodo(t,e){const n=t.todos.findIndex(t=>t.id===e);t.todos.splice(n,1)},deleteAllCompleted(t){t.todos=t.todos.filter(t=>!t.completed)},doLogin(t,e){t.user=e},startLoading(t){t.loading=!0},endLoading(t){t.loading=!1}},x={},w=n(17);const y=(t,e)=>{const n=new Error(e);return n.code=t,n},_=n.n(w).a.create({baseURL:"/"}),T=t=>new Promise((e,n)=>{t.then(t=>{const a=t.data;return a?400===a.status?n(y(400,a.message)):401===a.status?n(y(401,a.message)):void e(a.data):n(y(400,"no data"))}).catch(t=>{const e=t.response;n(y(e.status,e.message))})});var $={getAllTodos:()=>T(_.get("/api/todos")),addTodo:t=>T(_.post("/api/todo",t)),updateTodo:(t,e)=>T(_.put(`/api/todo/${t}`,e)),deleteTodo:t=>T(_.delete(`/api/todo/${t}`)),deleteCompleted:t=>T(_.post("/api/delete/completed",{ids:t})),login:(t,e)=>T(_.post("/user/login",{username:t,password:e}))},k={name:"Notification",props:{content:{type:String,required:!0},btn:{type:String,default:"关闭"}},data:()=>({visiable:!0}),computed:{style:()=>({})},methods:{handleClose(t){t.preventDefault(),this.$emit("close")},afterEnter(){},afterLeave(){this.$emit("closed")},createTimer(){},clearTimer(){}}},L=(n(50),Object(d.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"},on:{"after-leave":t.afterLeave,"after-enter":t.afterEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiable,expression:"visiable"}],staticClass:"notification",style:t.style,on:{mouseenter:t.clearTimer,mouseleave:t.createTimer}},[n("span",{staticClass:"content"},[t._v(t._s(t.content))]),t._v(" "),n("a",{staticClass:"btn",on:{click:t.handleClose}},[t._v(t._s(t.btn))])])])},[],!1,null,"81cc32d2",null).exports),C={extends:L,computed:{style(){return{position:"fixed",right:"20px",bottom:`${this.verticalOffset}px`}}},data:()=>({verticalOffset:0,height:0,visiable:!1}),methods:{createTimer(){this.autoClose&&(this.timer=setTimeout(()=>{this.visiable=!1},this.autoClose))},clearTimer(){this.timer&&clearTimeout(this.timer)},afterEnter(){this.height=this.$el.offsetHeight}},mounted(){this.createTimer()},beforeDestroy(){this.clearTimer()}};const I=a.a.extend(C),E=[];let O=1;var j=t=>{if(a.a.prototype.$isServer)return;const{autoClose:e,...n}=t,o=new I({propsData:{...n},data:{autoClose:e||3e3}}),i=`notification_${O++}`;o.id=i,o.vm=o.$mount(),document.body.appendChild(o.vm.$el),o.vm.visiable=!0;let s=0;return E.forEach(t=>{s+=t.$el.offsetHeight+16}),s+=16,o.verticalOffset=s,E.push(o),o.vm.$on("closed",()=>{(t=>{if(!t)return;const e=E.length,n=E.findIndex(e=>e.id===t.id);if(E.splice(n,1),e<=1)return;const a=t.vm.height;for(let t=n;t<e-1;t++)E[t].verticalOffset=parseInt(E[t].verticalOffset)-a-16})(o),document.body.removeChild(o.vm.$el),o.vm.$destroy()}),o.vm.$on("close",()=>{o.vm.visiable=!1}),o.vm},A=new a.a;const S=t=>{401===t.code&&(j({content:"请先登录"}),A.$emit("auth")),400===t.code&&j({content:"用户名或密码错误"})};var N={fetchTodos:({commit:t})=>(t("startLoading"),$.getAllTodos().then(e=>{t("endLoading"),t("filltodos",e)}).catch(e=>{t("endLoading"),S(e)})),addTodo({commit:t},e){t("startLoading"),$.addTodo(e).then(e=>{t("endLoading"),t("addTodo",e),j({content:"你又多了一件事要做~"})}).catch(e=>{t("endLoading"),S(e)})},updateTodo({commit:t},{id:e,todo:n}){$.updateTodo(e,n).then(n=>{t("updateTodo",{id:e,todo:n})}).catch(t=>{S(t)})},deleteTodo({commit:t},e){t("startLoading"),$.deleteTodo(e).then(n=>{t("endLoading"),t("deleteTodo",e),j({content:"你又少了一件事要做~"})}).catch(e=>{t("endLoading"),S(e)})},deleteAllCompleted({state:t,commit:e}){e("startLoading");const n=t.todos.filter(t=>t.completed).map(t=>t.id);$.deleteCompleted(n).then(()=>{e("endLoading"),e("deleteAllCompleted"),j({content:"清理一下~"})}).catch(t=>{e("endLoading"),S(t)})},login:({commit:t},{username:e,password:n})=>new Promise((a,o)=>{t("startLoading"),$.login(e,n).then(e=>{t("endLoading"),t("doLogin",e),j({content:"登录成功"}),a()}).catch(e=>{t("endLoading"),S(e)})})};var D={props:{panes:{type:Array,required:!0}},render(){return(0,arguments[0])("div",{class:"tab-content"},[this.panes.map(t=>t.active?t.$slots.default:null)])}},H=Object(d.a)(D,void 0,void 0,!1,null,null,null).exports,z={name:"Tabs",provide(){return{Tab:this}},props:{value:{type:[String,Number]}},data(){return{index:0,panes:[],currentIndex:this.value?this.value:this.index}},methods:{changeIndex(t){this.currentIndex=t,this.$emit("toggle",t)}},components:{TabContainer:H},render(){const t=arguments[0];return t("div",{class:"tabs"},[t("ul",{class:"tabs-header"},[this.$slots.default]),t("tab-container",{attrs:{panes:this.panes}})])}},J=(n(54),Object(d.a)(z,void 0,void 0,!1,null,"39ad90f8",null).exports);let P=0;var R={name:"Tab",inject:["Tab"],props:{index:{type:[String,Number]},lable:{type:String,defaule:"tab"}},data:()=>({i:P++}),computed:{idx(){return this.index?this.index:this.i},active(){return this.Tab.currentIndex===this.idx}},methods:{changeIndex(){this.Tab.changeIndex(this.idx)}},mounted(){this.Tab.panes.push(this)}},q=(n(56),Object(d.a)(R,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"tab",class:{active:t.active},on:{click:t.changeIndex}},[t._t("lable"),t._v(" "),t.$slots.lable?t._e():n("span",[t._v(t._s(this.lable))])],2)},[],!1,null,"81ec430e",null).exports);n(58);a.a.use(o.a),a.a.use(i.a),a.a.use(r.a),a.a.use(t=>{t.component(L.name,L),t.prototype.$notify=j}),a.a.use(t=>{t.component(J.name,J),t.component(q.name,q)});const{app:F,router:M,store:B}=(()=>{const t=(()=>new o.a({routes:v,mode:"history",scrollBehaviorHandler:(t,e,n)=>n||{x:0,y:0}}))(),e=new i.a.Store({strict:!1,state:g,mutations:b,getters:x,actions:N});return{app:new a.a({router:t,store:e,render:t=>t(h)}),router:t,store:e}})();window.__INITIAL_STATE__&&B.replaceState(window.__INITIAL_STATE__),A.$on("auth",()=>{M.push("/login")}),M.onReady(()=>{M.beforeResolve((t,e,n)=>{const a=M.getMatchedComponents(t),o=M.getMatchedComponents(e);let i=!1;const s=a.filter((t,e)=>i||(i=o[e]!==t));if(!s.length)return n();Promise.all(s.map(e=>{if(e.asyncData)return e.asyncData({store:B,route:t,router:M})})).then(n).catch(n)}),F.$mount("#root")})}],[[59,"runtime~app","styles","vendors~app"]]]);